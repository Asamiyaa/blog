场景:2018-04-28 笔记本无法正常启动，尝试多种网上方案，包括安全模式等。
所犯错误:
        1.在笔记本无法启动情况下，多次重启计算机可能导致系统坏道增加。
        2.由于当时启动u盘不在，没有尝试进入PE或者bios等
        3.未理性分析，盲目导致让别人进行数据恢复。耗时耗钱。
原因分析：
        1.重要数据未做备份，备份！备份！备份！
        2.系统卡死，直接拔电池 -->摁住电源键可以强制关机。也比直接断电强。 
        3.不正确的程序禁止。通过任务管理器kill
        4.虚拟机/oracle等大量数据读写操作
预警征兆:
        1.磁盘异响
        2.读写数据时有打不开情况
        3.cpu / 内存在资源管理器中查看占用并不高，系统卡死多为磁盘io ，造成cpu饥饿
        4.笔记本经常蓝屏
解决方案：
        1.维修店进行数据恢复，导致现在使用的磁盘质量有问题，有异响。
2018-07-14
        对磁盘恢复进行学习和场景复原
        恢复过程中一定要明确操作：
                  1.不要反复加电     
                  2.不要反复读写，读写可能破坏最后“场景”，覆盖导致无法恢复。
                  3.是否可以“读盘” ,是否"可以读写"
        基础知识：
                  1.磁盘 - 柱 - 扇区  - 物理磁道 - 逻辑磁道  - 文件系统  - 数据
                                                          ------格式化------

-----------------分区---------------------------
                  2.逻辑坏道可以通过window自带进行恢复            [分区 - 右键属性 -工具 - 查错|碎片整理|备份]                     
                    物理坏道则必须选择屏蔽坏道所在柱，避免扩大。    [排除坏道柱面所在数，从新的起始位置开始]
                  3.磁盘必须完成分区+激活才可以作为系统盘启动
                  
                  移动硬盘出现物理坏道，怎么把坏道里的数据拷贝出来? 
                        https://zhidao.baidu.com/question/344837054.html
                  4.Mbr
                     主引导记录（MBR，Main Boot Record）是位于磁盘最前边的一段引导（Loader）代码。
                     它负责磁盘操作系统(DOS)对磁盘进行读写时分区合法性的判别、分区引导信息的定位，它由磁盘操作系统(DOS)在对硬盘进行初始化时产生的。
                  5.删除的内容可以即使恢复(删除的逻辑：将删除位置打上标识，系统不进行扫描操作。可能会被新数据覆盖)，但清除扇区数据表示在删除区域
                    直接写入新数据(0|ff....)，原先数据被覆盖，无法恢复
                  6.PE bios
                    PE:Windows PreInstallation Environment（Windows PE），Windows预安装环境，是带有限服务的最小Win32子系统，
                       基于以保护模式运行的Windows XP Professional内核。它包括运行Windows安装程序及脚本、连接网络共享、自动化基本
                       过程以及执行硬件验证所需的最小功能。
                       pe系统的作用
	　　              pe是急救系统，在电脑无法开机时，可以通过pe系统修复电脑里的各种问题，比如删除顽固病毒，修复磁盘引导分区，给硬盘分区，
                              数据备份等。
	　　              总结来说，可以实现Windows安装、网络共享、自动底层处理进程、硬件验证等作用。
	　　           pe系统运行机制
 	　　              pe运行是依靠镜像释放(在PE运行时就释放了)，在计算机内存和硬盘缓存文件中运行。
	　　              PS：由此我们可以知道，PE系统不能运行主要原因是硬件驱动无法加载、缓存无法写入造成。而缓存无法写入的原因最大，
                             有CHS、LBA的原因，也有硬盘自身加载的问题。
	　              　pe系统的注意事项
	　                　尽管pe系统有诸多优点，同样我们要注意以下两点：
	　                 　1.若PE核心过于精简无法通过驱动加载会导致蓝屏死机。
	　　                 2.Pe无法运行，选择的模式错误也可能是原因之一。要注重CHS、LBA模式。
	　　             【温馨提示】很多情况下，我们都可以使用PE来进行问题解决。
                            例如电脑中了顽固病毒，在安全模式下由于杀毒软件CPU占用率过高，很容易造成电脑假死或死机，导致病毒无法查杀，
                            而PE就不会出现该情况，还能完美解决病毒问题!
                    BIOS:
                         要进PE首先需要进BIOS进行设置，设置为你的PE启动盘为第一启动盘，因为原先的是硬盘为第一启动项，
                         pe是一个独立的维护系统，在PE中可以把原来的系统删不了的东西删掉，比如重装系统，
                         bios就是连接硬件个软件的桥梁
	           7.重建mbr和修复引导
		         MBR=主引导区记录。硬盘的0磁道的第一个扇区称为MBR，它的大小是512字节，而这个区域可以分为三个部分。
			    第一部分为pre-boot区（预启动区），占446字节；
                            第二部分是Partition table区（分区表），占64个字节，硬盘中分区有多少以及每一分区的大小都记在其中。
			    第三部分是magic number，占2个字节，固定为55AA。
			    MBR是针对整个硬盘而言的，而引导扇区是对单个分区而言的。每个分区的第一扇区就是引导扇区：像MBR一样，引导扇区里包含了
			    一些引导操作系统所需要的相关信息。如果引导扇区被破坏了是个非常严重的问题，那就意味着这个分区不能被访问，安装在这个分区
			    上的操作系统也不能被启动。所以说修复引导是使得每一个分区都能被正确识别引导。
                   8.ghost		           
			 幽灵，魂。其实就是一个硬盘/操作系统镜像，备份用于还原。
			     https://zhidao.baidu.com/question/1391805.html
			 ghost和普通磁盘克隆区别：ghost是实现克隆的一种方式，和diskginus没有区别的。
			     https://jingyan.baidu.com/article/86112f1379b6292737978709.html
                   9.固态分区中4k对齐
		         “4K对齐”就是将硬盘扇区对齐到8的整数倍个模拟扇区，即512B*8=4096B，4096字节即是4K。用win7系统对硬盘分区格式化时，默认是
			 将硬盘扇区对齐到2048个扇区的整数倍，即512B*2048=1048576B=1024KB，即1M对齐，并满足4K对齐，该值只要是4096B的倍数就是4K对齐。
		   

      笔记本无法启动系统，卡在登陆位置可能原因：
                  1.os   
                        1.PE进入
                        
                  2.硬盘
                       1.逻辑坏道()
                           1.Mbr
                           2.重映射
                       2.物理坏道                      
                           1.重装操作系统远离坏道部分(引导中出错，坏道很可能出现在os所在分区)                       
                       3.磁头损坏
                           1.无尘坏境中更换
         过程：
                  1.更换磁盘未坏硬盘。启动。
                         报错：window未能启动。原因可能是最近更换了硬件或者软件
                         文件：\windows\system32\winload.exe
                         状态：0x000000e
                      原来报错是可以进入到load界面但是进不去（曾尝试了安全模式等还是进不去）
                  2.使用u盘启动工具 进入PE(黑屏蓝屏/重装系统/查毒/修改密码)
		        1.联想G510笔记本电脑如何设置U盘或者光盘启动项 进入bios fn+f2 https://jingyan.baidu.com/article/49ad8bce4aaa495834d8fa9f.html
		        2.u盘启动盘界面没有出来  怎样让联想G510笔记本达成一键u盘启动  --> 进入PE fn+f12 选择usb选项
			3.利用pe查看是否可以将数据备份，分析原因(os 还是 hard)
			  1.直接windows+e 无法看到硬盘 使用磁盘管理工具
			      模式有问题，在bios修改模式  https://jingyan.baidu.com/article/acf728fd2e9ffcf8e510a333.html
			      若模式修改后还是无法读到，横有可能是磁盘磁头损坏，需要跟换磁头。(专业人士)
			  2.可以查看磁盘所有信息，是否可以备份呢？ 可以  外接备份盘+磁盘工具(分区助手|diskgenis=选中分区右键克隆)=完全备份(和完全卸载磁盘进行备份是一个意思)
			  3.检查磁盘是否有坏道来判断是否可以通过重装os来解决。
			       (磁盘，内存检查均可以在不进入pe直接在启动盘选项那里选择) mhdd硬盘扫描修复：https://wenku.baidu.com/view/7670bba619e8b8f67d1cb946.html
			          有坏道是正常的，但一定注意是否在关键引导区问题。
				  1.无    
				                   1.重建mbr(识别整个磁盘)
						   2.修复引导扇区(识别每个分区)  点击修复引导查看是否成功  正确的话，应该会很快。卡住说明不是这个原因
				                   3.直接在原os盘重装
				    2.有    远离该分区重装os，则该分区数据消失
				                   1. 若存在不重要分区         安装
						   2. 不存在                  只能执行方案2
	                2和3要协调进行。所有方案必须权衡数据的重要性！！！
			
			以上在修复过程中，由于diskgenius版本过低，不能查看到红绿显示块，但是可以根据超时时间判断。
			发现设置超时时间没什么用，默认超时3秒，2.5秒就报坏块，个别坏块要扫一分钟之久。特别是刚开始。
			作为mbr位置因为坏块导致系统无法启动。
	 
	 以下内容假设磁盘分区中f盘没用。重要数据在d盘。那么将os装在f盘，设置磁盘启动。(以下内容在pe自带diskGenius中完成)
	                1.取消c盘分区激活 			
			2.f盘转换为主分区 
			3.激活分区 
			4.安装系统到f分区(即使有少量坏道，磁盘应该会选择正确的。是否可以考虑原盘安装？
			                大量可能不行)
			     1.重新进入U盘启动分区 选择：新机选项。进入选择安装工具 - u盘选择iso - 选择要安装的分区 - 安装		
		        5.启动报错   自检硬盘  （非正常关机  断电导致）
			6.时间太长说明硬盘可能有损坏
			
		
	   SSD安装os
	               1.进入bios设置sata模式AHCI
		       2.进入PE,使用diskginus 快速分区   4k对齐  http://www.xitongcheng.com/jiaocheng/xtazjc_article_40935.html
		       3.此时安装软件识别硬盘，选择u盘iso ,位置分区,安装。
		       4.从u盘安装驱动包 此时就可以联网 ，鼠标 ...
		       5.设置分辨率
		
		
			
			
			
			  修复系统引导
			
			
			
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
        
        
        
        
        
        
        
        
        
